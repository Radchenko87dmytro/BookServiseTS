{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/GitHub/BookServiseTS/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Documents/GitHub/BookServiseTS/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Documents/GitHub/BookServiseTS/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate,useParams}from'react-router-dom';import{getBook}from'../../apiClient';import{Navbar}from'../../components/Navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var bookPagination=function bookPagination(content){var step=200;var output=[];for(var i=0;i<content.length;i+=step){output.push(content.slice(i,i+step));}return output;};export var BookDetails=function BookDetails(){var _useParams=useParams(),authorTitle=_useParams.authorTitle;var _useState=useState(),_useState2=_slicedToArray(_useState,2),book=_useState2[0],setBook=_useState2[1];var navigate=useNavigate();useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.t0=authorTitle;if(!_context.t0){_context.next=6;break;}_context.next=5;return getBook(authorTitle);case 5:_context.t0=_context.sent;case 6:result=_context.t0;setBook(result);_context.next=13;break;case 10:_context.prev=10;_context.t1=_context[\"catch\"](0);console.error('Error:',_context.t1);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}))();},[]);console.log(authorTitle,book);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{content:\"Book Details\",arrow:true}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center bg-slate-200 py-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-row items-center ml-32\",children:[/*#__PURE__*/_jsx(\"img\",{src:book===null||book===void 0?void 0:book.simple_thumb,className:\"border-8 border-solid border-gray-400 \"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\" text-2xl my-10\",children:[\"Title: \",book===null||book===void 0?void 0:book.title]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl my-10\",children:[\"Author: \",book===null||book===void 0?void 0:book.authors[0].name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl\",children:[\"Language: \",book===null||book===void 0?void 0:book.language]})]})})]})})]});};","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","getBook","Navbar","jsx","_jsx","jsxs","_jsxs","bookPagination","content","step","output","i","length","push","slice","BookDetails","_useParams","authorTitle","_useState","_useState2","_slicedToArray","book","setBook","navigate","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","t0","sent","t1","console","error","stop","log","children","arrow","className","src","simple_thumb","title","authors","name","language"],"sources":["D:/Documents/GitHub/BookServiseTS/frontend/src/screens/BookDetails/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useNavigation, useParams } from 'react-router-dom';\r\nimport { BookApiType, book } from '../../types';\r\nimport { Button } from '../../components/Button';\r\nimport { WolnelekturyAPIType } from '../../types';\r\nimport { getBook } from '../../apiClient';\r\nimport { Navbar } from '../../components/Navbar';\r\n\r\ninterface props {\r\n    book: BookApiType;\r\n    content: string;\r\n}\r\n\r\nconst bookPagination = (content: string) => {\r\n    const step = 200;\r\n    const output: string[] = [];\r\n\r\n    for (let i = 0; i < content.length; i += step) {\r\n        output.push(content.slice(i, i + step));\r\n    }\r\n\r\n    return output;\r\n};\r\n\r\nexport const BookDetails = () => {\r\n    const { authorTitle } = useParams();\r\n    const [book, setBook] = useState<BookApiType>();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const result = authorTitle && (await getBook(authorTitle));\r\n                setBook(result);\r\n            } catch (error) {\r\n                console.error('Error:', error);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    console.log(authorTitle, book);\r\n\r\n    return (\r\n        <div>\r\n            <Navbar content=\"Book Details\" arrow />\r\n            <div className=\"flex justify-center items-center bg-slate-200 py-20\">\r\n                <div className=\"flex-row items-center ml-32\">\r\n                    <img\r\n                        src={book?.simple_thumb}\r\n                        className=\"border-8 border-solid border-gray-400 \"\r\n                    />\r\n\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <div>\r\n                            <p className=\" text-2xl my-10\">\r\n                                Title: {book?.title}\r\n                            </p>\r\n                            <p className=\"text-2xl my-10\">\r\n                                Author: {book?.authors[0].name}\r\n                            </p>\r\n                            <p className=\"text-2xl\">\r\n                                Language: {book?.language}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* <p className=\"px-20 flex justify-center\">{pages[pageNumber]}</p> */}\r\n                {/* <p className=\"flex justify-center my-40 font-bold\">{book?.cover}</p>\r\n            <a href={book?.fb2}>fabula</a> */}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}