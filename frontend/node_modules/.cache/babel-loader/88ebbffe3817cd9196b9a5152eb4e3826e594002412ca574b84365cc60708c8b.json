{"ast":null,"code":"import _toConsumableArray from\"D:/Documents/GitHub/BookServiseTS/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/Documents/GitHub/BookServiseTS/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useMemo}from'react';import{Button}from'../Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PaginationBooks=function PaginationBooks(_ref){var _console;var totalBooks=_ref.totalBooks,booksPerPage=_ref.booksPerPage,currentPage=_ref.currentPage,setBooksPerPage=_ref.setBooksPerPage,setCurrentPage=_ref.setCurrentPage;var _useState=useState(2),_useState2=_slicedToArray(_useState,2),pageNumberLimit=_useState2[0],setPageNumberLimit=_useState2[1];var _useState3=useState(5),_useState4=_slicedToArray(_useState3,2),maxPageNumberLimit=_useState4[0],setMaxPageNumberLimit=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),minPageNumberLimit=_useState6[0],setMinPageNumberLimit=_useState6[1];//\nvar pages=[];var envNumber=process.env.REACT_APP_PAGE_COUNT?parseInt(process.env.REACT_APP_PAGE_COUNT):0;var envNumberChanged=_toConsumableArray(Array.from({length:envNumber+1},function(_,i){return i;}));console.log(envNumberChanged);for(var i=1;i<=Math.ceil(totalBooks/booksPerPage);// && i < envNumberChanged.length;\ni++){pages.push(i);}(_console=console).log.apply(_console,_toConsumableArray(Array.from({length:envNumber+1},function(_,i){return i;})));var background;var PrevPageHandler=function PrevPageHandler(){setCurrentPage(currentPage-1);if((currentPage-1)%pageNumberLimit==0){setMaxPageNumberLimit(maxPageNumberLimit-pageNumberLimit);setMinPageNumberLimit(minPageNumberLimit-pageNumberLimit);}};var NextPageHandler=function NextPageHandler(){setCurrentPage(currentPage+1);if(currentPage+1>maxPageNumberLimit){setMaxPageNumberLimit(maxPageNumberLimit+pageNumberLimit);setMinPageNumberLimit(minPageNumberLimit+pageNumberLimit);}};var LoadMoreHandler=function LoadMoreHandler(){setBooksPerPage(booksPerPage+10);};var generateArray=useMemo(function(){return function(index){var array=[index-2,index-1,index,index+1,index+2];return array.filter(function(item){return item>-1&&item<=envNumber;});};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\" col-span-3  bg-slate-500  h-2/4 p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap justify-center items-center  col-span-3 p-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-white rounded-xl p-1 m-1 border-white border-4 decoration-white text-2xl  hover:bg-lime-500\",onClick:PrevPageHandler,disabled:currentPage==pages[0]?true:false,children:\"Prev\"}),generateArray(currentPage).map(function(page,index){return/*#__PURE__*/_jsx(Button,{content:page,background:currentPage==page?\"bg-lime-500\":\"bg-indigo-600\",onClick:function onClick(){return setCurrentPage(page);},width:''},index);}),/*#__PURE__*/_jsx(\"button\",{className:\"text-white rounded-xl p-1 m-1 border-white border-4 decoration-white text-2xl  hover:bg-lime-500\"//onClick={NextPageHandler}\n,children:pages.length}),/*#__PURE__*/_jsx(\"button\",{className:\"text-white rounded-xl p-1 m-1 border-white border-4 decoration-white text-2xl  hover:bg-lime-500\",onClick:NextPageHandler,disabled:currentPage==pages[pages.length-1]?true:false,children:\"Next\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\" text-white rounded-xl p-1 m-1 border-white border-4 decoration-white text-2xl  hover:bg-lime-500  bg-slate-800\",onClick:LoadMoreHandler,children:\"Load More\"})]});};","map":{"version":3,"names":["React","useState","useMemo","Button","jsx","_jsx","jsxs","_jsxs","PaginationBooks","_ref","_console","totalBooks","booksPerPage","currentPage","setBooksPerPage","setCurrentPage","_useState","_useState2","_slicedToArray","pageNumberLimit","setPageNumberLimit","_useState3","_useState4","maxPageNumberLimit","setMaxPageNumberLimit","_useState5","_useState6","minPageNumberLimit","setMinPageNumberLimit","pages","envNumber","process","env","REACT_APP_PAGE_COUNT","parseInt","envNumberChanged","_toConsumableArray","Array","from","length","_","i","console","log","Math","ceil","push","apply","background","PrevPageHandler","NextPageHandler","LoadMoreHandler","generateArray","index","array","filter","item","className","children","onClick","disabled","map","page","content","width"],"sources":["D:/Documents/GitHub/BookServiseTS/frontend/src/components/PaginationBooks/index.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport { Button } from '../Button';\r\n\r\ninterface props {\r\n    totalBooks: number;\r\n    booksPerPage: number;\r\n    currentPage: number;\r\n    setBooksPerPage: (state: number) => void;\r\n    setCurrentPage: (state: number) => void;\r\n}\r\n\r\nexport const PaginationBooks = ({\r\n    totalBooks,\r\n    booksPerPage,\r\n    currentPage,\r\n    setBooksPerPage,\r\n    setCurrentPage,\r\n}: props) => {\r\n    const [pageNumberLimit, setPageNumberLimit] = useState(2);\r\n    const [maxPageNumberLimit, setMaxPageNumberLimit] = useState(5);\r\n    const [minPageNumberLimit, setMinPageNumberLimit] = useState(0);\r\n    //\r\n    let pages = [];\r\n    let envNumber = process.env.REACT_APP_PAGE_COUNT\r\n        ? parseInt(process.env.REACT_APP_PAGE_COUNT)\r\n        : 0;\r\n\r\n    let envNumberChanged = [\r\n        ...Array.from({ length: envNumber + 1 }, (_, i) => i),\r\n    ];\r\n    console.log(envNumberChanged);\r\n\r\n    for (\r\n        let i = 1;\r\n        i <= Math.ceil(totalBooks / booksPerPage);\r\n        // && i < envNumberChanged.length;\r\n        i++\r\n    ) {\r\n        pages.push(i);\r\n    }\r\n    console.log(...Array.from({ length: envNumber + 1 }, (_, i) => i));\r\n\r\n    let background;\r\n\r\n    const PrevPageHandler = () => {\r\n        setCurrentPage(currentPage - 1);\r\n        if ((currentPage - 1) % pageNumberLimit == 0) {\r\n            setMaxPageNumberLimit(maxPageNumberLimit - pageNumberLimit);\r\n            setMinPageNumberLimit(minPageNumberLimit - pageNumberLimit);\r\n        }\r\n    };\r\n\r\n    const NextPageHandler = () => {\r\n        setCurrentPage(currentPage + 1);\r\n        if (currentPage + 1 > maxPageNumberLimit) {\r\n            setMaxPageNumberLimit(maxPageNumberLimit + pageNumberLimit);\r\n            setMinPageNumberLimit(minPageNumberLimit + pageNumberLimit);\r\n        }\r\n    };\r\n\r\n    const LoadMoreHandler = () => {\r\n        setBooksPerPage(booksPerPage + 10);\r\n    };\r\n\r\n    const generateArray = useMemo(\r\n        () => (index: number) => {\r\n            let array = [index - 2, index - 1, index, index + 1, index + 2];\r\n            return array.filter((item) => item > -1 && item <= envNumber);\r\n        },\r\n        []\r\n    );\r\n\r\n    return (\r\n        <div className=\" col-span-3  bg-slate-500  h-2/4 p-2\">\r\n            <div className=\"flex flex-wrap justify-center items-center  col-span-3 p-2\">\r\n                <button\r\n                    className=\"text-white rounded-xl p-1 m-1 border-white border-4 decoration-white text-2xl  hover:bg-lime-500\"\r\n                    onClick={PrevPageHandler}\r\n                    disabled={currentPage == pages[0] ? true : false}\r\n                >\r\n                    Prev\r\n                </button>\r\n\r\n                {generateArray(currentPage).map((page, index) => (\r\n                    <Button\r\n                        key={index}\r\n                        content={page}\r\n                        background={\r\n                            currentPage == page\r\n                                ? `bg-lime-500`\r\n                                : `bg-indigo-600`\r\n                        }\r\n                        onClick={() => setCurrentPage(page)}\r\n                        width={''}\r\n                    />\r\n                ))}\r\n\r\n                <button\r\n                    className=\"text-white rounded-xl p-1 m-1 border-white border-4 decoration-white text-2xl  hover:bg-lime-500\"\r\n                    //onClick={NextPageHandler}\r\n                >\r\n                    {pages.length}\r\n                </button>\r\n\r\n                <button\r\n                    className=\"text-white rounded-xl p-1 m-1 border-white border-4 decoration-white text-2xl  hover:bg-lime-500\"\r\n                    onClick={NextPageHandler}\r\n                    disabled={\r\n                        currentPage == pages[pages.length - 1] ? true : false\r\n                    }\r\n                >\r\n                    Next\r\n                </button>\r\n            </div>\r\n\r\n            <button\r\n                className=\" text-white rounded-xl p-1 m-1 border-white border-4 decoration-white text-2xl  hover:bg-lime-500  bg-slate-800\"\r\n                onClick={LoadMoreHandler}\r\n            >\r\n                Load More\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}